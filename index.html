<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>

</head>
<body>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>

    <div class="display"></div>

    <script>
        function getComputerChoice(){
            let randomNumber = Math.random();
            if (randomNumber < 1/3) {
                return "rock";
            } else if (randomNumber < 2/3) {
                return "paper";
            } else {
                return "scissors";
            }
        }

        function getHumanChoice(){
            return choice.toLowerCase();
        }

        function playRound(humanChoice, computerChoice){

            let humanWins;

            if (humanChoice == computerChoice) {
                humanWins = undefined
            } else if (
                (humanChoice === "rock" && computerChoice === "scissors") ||
                (humanChoice === "paper" && computerChoice === "rock") ||
                (humanChoice === "scissors" && computerChoice === "paper")
            ) {
                humanWins = true;
            } else {
                humanWins = false;
            }

            if (humanWins == true) {
                console.log("You win! " + humanChoice + " beats " + computerChoice + ".");
            } else if (humanWins == false) {
                console.log("You lose! " + humanChoice + " beats " + computerChoice + ".");
            } else {
                console.log("Since both players played the same choice, it's a tie!");
            }

            return humanWins;
        }

        let choice;
        const buttons = document.querySelectorAll("button");
        const body = document.querySelector("body")
        const display = document.querySelector(".display") 
        
        let humanScore = 0;
        let computerScore = 0;
        let winningMessage = "";

        buttons.forEach((button) => {
            button.addEventListener("click", () => {
                choice = button.id
                const computerSelection = getComputerChoice();
                console.log(playRound(choice, computerSelection));
                if (playRound(choice, computerSelection) == true){
                    humanScore += 1
                    if (humanScore >= 5) {
                        winningMessage = "Human wins!"
                    }
                    display.textContent = "You win! " + choice + " beats " + computerSelection + ". " + humanScore + "-" + computerScore + ". " + winningMessage
                } else if (playRound(choice, computerSelection) == false) {
                    computerScore += 1
                    if (computerScore >= 5) {
                        winningMessage = "Computer wins!"
                    }
                    display.textContent = "You lose! " + choice + " beats " + computerSelection + ". " + humanScore + "-" + computerScore + ". " + winningMessage
                } else {
                    display.textContent = "Since both players played the same choice, it's a tie!"
                }
                body.appendChild(display)
            })
        })

        
    </script>
</body>
</html>